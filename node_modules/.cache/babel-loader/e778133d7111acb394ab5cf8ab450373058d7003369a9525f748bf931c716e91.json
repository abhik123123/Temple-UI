{"ast":null,"code":"/**\r\n * templeAPI.js - API service for all temple management endpoints\r\n * Handles CRUD operations for all entities: Events, Services, Staff, Timings, Images, Donors\r\n */\n\nimport axios from 'axios';\n\n// Get base URL from environment or use default\nconst BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000/api';\n\n// Create axios instance with default config\nconst api = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add auth token to requests\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => Promise.reject(error));\n\n/**\r\n * ============ EVENTS API ============\r\n */\nexport const eventsAPI = {\n  // Get all events\n  getAll: (params = {}) => api.get('/events', {\n    params\n  }),\n  // Get single event\n  getById: id => api.get(`/events/${id}`),\n  // Create event (Admin only)\n  create: eventData => api.post('/events', eventData),\n  // Update event (Admin only)\n  update: (id, eventData) => api.put(`/events/${id}`, eventData),\n  // Delete event (Admin only)\n  delete: id => api.delete(`/events/${id}`)\n};\n\n/**\r\n * ============ SERVICES API ============\r\n */\nexport const servicesAPI = {\n  // Get all services\n  getAll: (params = {}) => api.get('/services', {\n    params\n  }),\n  // Get single service\n  getById: id => api.get(`/services/${id}`),\n  // Create service (Admin only)\n  create: serviceData => api.post('/services', serviceData),\n  // Update service (Admin only)\n  update: (id, serviceData) => api.put(`/services/${id}`, serviceData),\n  // Delete service (Admin only)\n  delete: id => api.delete(`/services/${id}`)\n};\n\n/**\r\n * ============ STAFF API ============\r\n */\nexport const staffAPI = {\n  // Get all staff members\n  getAll: (params = {}) => api.get('/staff', {\n    params\n  }),\n  // Get single staff member\n  getById: id => api.get(`/staff/${id}`),\n  // Create staff member (Admin only)\n  create: staffData => api.post('/staff', staffData),\n  // Update staff member (Admin only)\n  update: (id, staffData) => api.put(`/staff/${id}`, staffData),\n  // Delete staff member (Admin only)\n  delete: id => api.delete(`/staff/${id}`)\n};\n\n/**\r\n * ============ TIMINGS API ============\r\n */\nexport const timingsAPI = {\n  // Get all timings\n  getAll: () => api.get('/timings'),\n  // Update timing for a specific day (Admin only)\n  update: (day, timingData) => api.put(`/timings/${day}`, timingData),\n  // Add holiday (Admin only)\n  addHoliday: holidayData => api.post('/timings/holidays', holidayData),\n  // Remove holiday (Admin only)\n  removeHoliday: id => api.delete(`/timings/holidays/${id}`)\n};\n\n/**\r\n * ============ IMAGES API ============\r\n */\nexport const imagesAPI = {\n  // Get all home images\n  getAll: (params = {}) => api.get('/images/home', {\n    params\n  }),\n  // Get single image\n  getById: id => api.get(`/images/home/${id}`),\n  // Upload image (Admin only)\n  upload: formData => api.post('/images/home', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  }),\n  // Update image metadata (Admin only)\n  update: (id, imageData) => api.put(`/images/home/${id}`, imageData),\n  // Delete image (Admin only)\n  delete: id => api.delete(`/images/home/${id}`),\n  // Download image (Admin only)\n  download: id => api.get(`/images/home/${id}/download`, {\n    responseType: 'blob'\n  })\n};\n\n/**\r\n * ============ DONORS API ============\r\n */\nexport const donorsAPI = {\n  // Get all donors\n  getAll: (params = {}) => api.get('/donors', {\n    params\n  }),\n  // Get single donor\n  getById: id => api.get(`/donors/${id}`),\n  // Create donor (Admin only)\n  create: donorData => api.post('/donors', donorData),\n  // Update donor (Admin only)\n  update: (id, donorData) => api.put(`/donors/${id}`, donorData),\n  // Delete donor (Admin only)\n  delete: id => api.delete(`/donors/${id}`),\n  // Get donation statistics\n  getStatistics: () => api.get('/donors/statistics'),\n  // Export donors list (Admin only)\n  export: () => api.get('/donors/export', {\n    responseType: 'blob'\n  })\n};\n\n/**\r\n * ============ AUTHENTICATION API ============\r\n */\nexport const authAPI = {\n  // Login\n  login: credentials => api.post('/auth/login', credentials),\n  // Logout\n  logout: () => api.post('/auth/logout'),\n  // Refresh token\n  refreshToken: () => api.post('/auth/refresh'),\n  // Get current user\n  getCurrentUser: () => api.get('/auth/me')\n};\nexport default api;","map":{"version":3,"names":["axios","BASE_URL","process","env","REACT_APP_API_BASE_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","eventsAPI","getAll","params","get","getById","id","eventData","post","update","put","delete","servicesAPI","serviceData","staffAPI","staffData","timingsAPI","day","timingData","addHoliday","holidayData","removeHoliday","imagesAPI","upload","formData","imageData","download","responseType","donorsAPI","donorData","getStatistics","export","authAPI","login","credentials","logout","refreshToken","getCurrentUser"],"sources":["C:/Users/Abhishek Kandukuri/Downloads/temple_react_full/src/services/templeAPI.js"],"sourcesContent":["/**\r\n * templeAPI.js - API service for all temple management endpoints\r\n * Handles CRUD operations for all entities: Events, Services, Staff, Timings, Images, Donors\r\n */\r\n\r\nimport axios from 'axios';\r\n\r\n// Get base URL from environment or use default\r\nconst BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000/api';\r\n\r\n// Create axios instance with default config\r\nconst api = axios.create({\r\n  baseURL: BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\n// Add auth token to requests\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\n/**\r\n * ============ EVENTS API ============\r\n */\r\nexport const eventsAPI = {\r\n  // Get all events\r\n  getAll: (params = {}) => \r\n    api.get('/events', { params }),\r\n\r\n  // Get single event\r\n  getById: (id) => \r\n    api.get(`/events/${id}`),\r\n\r\n  // Create event (Admin only)\r\n  create: (eventData) => \r\n    api.post('/events', eventData),\r\n\r\n  // Update event (Admin only)\r\n  update: (id, eventData) => \r\n    api.put(`/events/${id}`, eventData),\r\n\r\n  // Delete event (Admin only)\r\n  delete: (id) => \r\n    api.delete(`/events/${id}`)\r\n};\r\n\r\n/**\r\n * ============ SERVICES API ============\r\n */\r\nexport const servicesAPI = {\r\n  // Get all services\r\n  getAll: (params = {}) => \r\n    api.get('/services', { params }),\r\n\r\n  // Get single service\r\n  getById: (id) => \r\n    api.get(`/services/${id}`),\r\n\r\n  // Create service (Admin only)\r\n  create: (serviceData) => \r\n    api.post('/services', serviceData),\r\n\r\n  // Update service (Admin only)\r\n  update: (id, serviceData) => \r\n    api.put(`/services/${id}`, serviceData),\r\n\r\n  // Delete service (Admin only)\r\n  delete: (id) => \r\n    api.delete(`/services/${id}`)\r\n};\r\n\r\n/**\r\n * ============ STAFF API ============\r\n */\r\nexport const staffAPI = {\r\n  // Get all staff members\r\n  getAll: (params = {}) => \r\n    api.get('/staff', { params }),\r\n\r\n  // Get single staff member\r\n  getById: (id) => \r\n    api.get(`/staff/${id}`),\r\n\r\n  // Create staff member (Admin only)\r\n  create: (staffData) => \r\n    api.post('/staff', staffData),\r\n\r\n  // Update staff member (Admin only)\r\n  update: (id, staffData) => \r\n    api.put(`/staff/${id}`, staffData),\r\n\r\n  // Delete staff member (Admin only)\r\n  delete: (id) => \r\n    api.delete(`/staff/${id}`)\r\n};\r\n\r\n/**\r\n * ============ TIMINGS API ============\r\n */\r\nexport const timingsAPI = {\r\n  // Get all timings\r\n  getAll: () => \r\n    api.get('/timings'),\r\n\r\n  // Update timing for a specific day (Admin only)\r\n  update: (day, timingData) => \r\n    api.put(`/timings/${day}`, timingData),\r\n\r\n  // Add holiday (Admin only)\r\n  addHoliday: (holidayData) => \r\n    api.post('/timings/holidays', holidayData),\r\n\r\n  // Remove holiday (Admin only)\r\n  removeHoliday: (id) => \r\n    api.delete(`/timings/holidays/${id}`)\r\n};\r\n\r\n/**\r\n * ============ IMAGES API ============\r\n */\r\nexport const imagesAPI = {\r\n  // Get all home images\r\n  getAll: (params = {}) => \r\n    api.get('/images/home', { params }),\r\n\r\n  // Get single image\r\n  getById: (id) => \r\n    api.get(`/images/home/${id}`),\r\n\r\n  // Upload image (Admin only)\r\n  upload: (formData) => \r\n    api.post('/images/home', formData, {\r\n      headers: { 'Content-Type': 'multipart/form-data' }\r\n    }),\r\n\r\n  // Update image metadata (Admin only)\r\n  update: (id, imageData) => \r\n    api.put(`/images/home/${id}`, imageData),\r\n\r\n  // Delete image (Admin only)\r\n  delete: (id) => \r\n    api.delete(`/images/home/${id}`),\r\n\r\n  // Download image (Admin only)\r\n  download: (id) => \r\n    api.get(`/images/home/${id}/download`, { responseType: 'blob' })\r\n};\r\n\r\n/**\r\n * ============ DONORS API ============\r\n */\r\nexport const donorsAPI = {\r\n  // Get all donors\r\n  getAll: (params = {}) => \r\n    api.get('/donors', { params }),\r\n\r\n  // Get single donor\r\n  getById: (id) => \r\n    api.get(`/donors/${id}`),\r\n\r\n  // Create donor (Admin only)\r\n  create: (donorData) => \r\n    api.post('/donors', donorData),\r\n\r\n  // Update donor (Admin only)\r\n  update: (id, donorData) => \r\n    api.put(`/donors/${id}`, donorData),\r\n\r\n  // Delete donor (Admin only)\r\n  delete: (id) => \r\n    api.delete(`/donors/${id}`),\r\n\r\n  // Get donation statistics\r\n  getStatistics: () => \r\n    api.get('/donors/statistics'),\r\n\r\n  // Export donors list (Admin only)\r\n  export: () => \r\n    api.get('/donors/export', { responseType: 'blob' })\r\n};\r\n\r\n/**\r\n * ============ AUTHENTICATION API ============\r\n */\r\nexport const authAPI = {\r\n  // Login\r\n  login: (credentials) => \r\n    api.post('/auth/login', credentials),\r\n\r\n  // Logout\r\n  logout: () => \r\n    api.post('/auth/logout'),\r\n\r\n  // Refresh token\r\n  refreshToken: () => \r\n    api.post('/auth/refresh'),\r\n\r\n  // Get current user\r\n  getCurrentUser: () => \r\n    api.get('/auth/me')\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}