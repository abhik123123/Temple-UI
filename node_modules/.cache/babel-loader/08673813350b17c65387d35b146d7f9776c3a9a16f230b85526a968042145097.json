{"ast":null,"code":"/**\r\n * templeAPI.js - API service for all temple management endpoints\r\n * Handles CRUD operations for all entities: Events, Services, Staff, Timings, Images, Donors\r\n */import axios from'axios';// Get base URL from environment or use default\nconst BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:8080/api';// Create axios instance with default config\nconst api=axios.create({baseURL:BASE_URL,headers:{'Content-Type':'application/json'}});// Add auth token to requests\napi.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;},error=>Promise.reject(error));/**\r\n * ============ EVENTS API ============\r\n */export const eventsAPI={// Get all events\ngetAll:function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return api.get('/events',{params});},// Get single event\ngetById:id=>api.get(\"/events/\".concat(id)),// Create event (Admin only)\ncreate:eventData=>api.post('/events',eventData),// Update event (Admin only)\nupdate:(id,eventData)=>api.put(\"/events/\".concat(id),eventData),// Delete event (Admin only)\ndelete:id=>api.delete(\"/events/\".concat(id))};/**\r\n * ============ SERVICES API ============\r\n */export const servicesAPI={// Get all services\ngetAll:function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return api.get('/services',{params});},// Get single service\ngetById:id=>api.get(\"/services/\".concat(id)),// Create service (Admin only)\ncreate:serviceData=>api.post('/services',serviceData),// Update service (Admin only)\nupdate:(id,serviceData)=>api.put(\"/services/\".concat(id),serviceData),// Delete service (Admin only)\ndelete:id=>api.delete(\"/services/\".concat(id))};/**\r\n * ============ STAFF API ============\r\n */export const staffAPI={// Get all staff members\ngetAll:function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return api.get('/staff',{params});},// Get single staff member\ngetById:id=>api.get(\"/staff/\".concat(id)),// Create staff member (Admin only)\ncreate:staffData=>api.post('/staff',staffData),// Update staff member (Admin only)\nupdate:(id,staffData)=>api.put(\"/staff/\".concat(id),staffData),// Delete staff member (Admin only)\ndelete:id=>api.delete(\"/staff/\".concat(id))};/**\r\n * ============ TIMINGS API ============\r\n */export const timingsAPI={// Get all timings\ngetAll:()=>api.get('/timings'),// Update timing for a specific day (Admin only)\nupdate:(day,timingData)=>api.put(\"/timings/\".concat(day),timingData),// Add holiday (Admin only)\naddHoliday:holidayData=>api.post('/timings/holidays',holidayData),// Remove holiday (Admin only)\nremoveHoliday:id=>api.delete(\"/timings/holidays/\".concat(id))};/**\r\n * ============ IMAGES API ============\r\n */export const imagesAPI={// Get all home images\ngetAll:function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return api.get('/images/home',{params});},// Get single image\ngetById:id=>api.get(\"/images/home/\".concat(id)),// Upload image (Admin only)\nupload:formData=>api.post('/images/home',formData,{headers:{'Content-Type':'multipart/form-data'}}),// Update image metadata (Admin only)\nupdate:(id,imageData)=>api.put(\"/images/home/\".concat(id),imageData),// Delete image (Admin only)\ndelete:id=>api.delete(\"/images/home/\".concat(id)),// Download image (Admin only)\ndownload:id=>api.get(\"/images/home/\".concat(id,\"/download\"),{responseType:'blob'})};/**\r\n * ============ DONORS API ============\r\n */export const donorsAPI={// Get all donors\ngetAll:function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return api.get('/donors',{params});},// Get single donor\ngetById:id=>api.get(\"/donors/\".concat(id)),// Create donor (Admin only)\ncreate:donorData=>api.post('/donors',donorData),// Update donor (Admin only)\nupdate:(id,donorData)=>api.put(\"/donors/\".concat(id),donorData),// Delete donor (Admin only)\ndelete:id=>api.delete(\"/donors/\".concat(id)),// Get donation statistics\ngetStatistics:()=>api.get('/donors/statistics'),// Export donors list (Admin only)\nexport:()=>api.get('/donors/export',{responseType:'blob'})};/**\r\n * ============ AUTHENTICATION API ============\r\n */export const authAPI={// Login\nlogin:credentials=>api.post('/auth/login',credentials),// Logout\nlogout:()=>api.post('/auth/logout'),// Refresh token\nrefreshToken:()=>api.post('/auth/refresh'),// Get current user\ngetCurrentUser:()=>api.get('/auth/me')};export default api;","map":{"version":3,"names":["axios","BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","concat","error","Promise","reject","eventsAPI","getAll","params","arguments","length","undefined","get","getById","id","eventData","post","update","put","delete","servicesAPI","serviceData","staffAPI","staffData","timingsAPI","day","timingData","addHoliday","holidayData","removeHoliday","imagesAPI","upload","formData","imageData","download","responseType","donorsAPI","donorData","getStatistics","export","authAPI","login","credentials","logout","refreshToken","getCurrentUser"],"sources":["C:/Users/Abhishek Kandukuri/Downloads/temple_react_full/src/services/templeAPI.js"],"sourcesContent":["/**\r\n * templeAPI.js - API service for all temple management endpoints\r\n * Handles CRUD operations for all entities: Events, Services, Staff, Timings, Images, Donors\r\n */\r\n\r\nimport axios from 'axios';\r\n\r\n// Get base URL from environment or use default\r\nconst BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080/api';\r\n\r\n// Create axios instance with default config\r\nconst api = axios.create({\r\n  baseURL: BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\n// Add auth token to requests\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\n/**\r\n * ============ EVENTS API ============\r\n */\r\nexport const eventsAPI = {\r\n  // Get all events\r\n  getAll: (params = {}) => \r\n    api.get('/events', { params }),\r\n\r\n  // Get single event\r\n  getById: (id) => \r\n    api.get(`/events/${id}`),\r\n\r\n  // Create event (Admin only)\r\n  create: (eventData) => \r\n    api.post('/events', eventData),\r\n\r\n  // Update event (Admin only)\r\n  update: (id, eventData) => \r\n    api.put(`/events/${id}`, eventData),\r\n\r\n  // Delete event (Admin only)\r\n  delete: (id) => \r\n    api.delete(`/events/${id}`)\r\n};\r\n\r\n/**\r\n * ============ SERVICES API ============\r\n */\r\nexport const servicesAPI = {\r\n  // Get all services\r\n  getAll: (params = {}) => \r\n    api.get('/services', { params }),\r\n\r\n  // Get single service\r\n  getById: (id) => \r\n    api.get(`/services/${id}`),\r\n\r\n  // Create service (Admin only)\r\n  create: (serviceData) => \r\n    api.post('/services', serviceData),\r\n\r\n  // Update service (Admin only)\r\n  update: (id, serviceData) => \r\n    api.put(`/services/${id}`, serviceData),\r\n\r\n  // Delete service (Admin only)\r\n  delete: (id) => \r\n    api.delete(`/services/${id}`)\r\n};\r\n\r\n/**\r\n * ============ STAFF API ============\r\n */\r\nexport const staffAPI = {\r\n  // Get all staff members\r\n  getAll: (params = {}) => \r\n    api.get('/staff', { params }),\r\n\r\n  // Get single staff member\r\n  getById: (id) => \r\n    api.get(`/staff/${id}`),\r\n\r\n  // Create staff member (Admin only)\r\n  create: (staffData) => \r\n    api.post('/staff', staffData),\r\n\r\n  // Update staff member (Admin only)\r\n  update: (id, staffData) => \r\n    api.put(`/staff/${id}`, staffData),\r\n\r\n  // Delete staff member (Admin only)\r\n  delete: (id) => \r\n    api.delete(`/staff/${id}`)\r\n};\r\n\r\n/**\r\n * ============ TIMINGS API ============\r\n */\r\nexport const timingsAPI = {\r\n  // Get all timings\r\n  getAll: () => \r\n    api.get('/timings'),\r\n\r\n  // Update timing for a specific day (Admin only)\r\n  update: (day, timingData) => \r\n    api.put(`/timings/${day}`, timingData),\r\n\r\n  // Add holiday (Admin only)\r\n  addHoliday: (holidayData) => \r\n    api.post('/timings/holidays', holidayData),\r\n\r\n  // Remove holiday (Admin only)\r\n  removeHoliday: (id) => \r\n    api.delete(`/timings/holidays/${id}`)\r\n};\r\n\r\n/**\r\n * ============ IMAGES API ============\r\n */\r\nexport const imagesAPI = {\r\n  // Get all home images\r\n  getAll: (params = {}) => \r\n    api.get('/images/home', { params }),\r\n\r\n  // Get single image\r\n  getById: (id) => \r\n    api.get(`/images/home/${id}`),\r\n\r\n  // Upload image (Admin only)\r\n  upload: (formData) => \r\n    api.post('/images/home', formData, {\r\n      headers: { 'Content-Type': 'multipart/form-data' }\r\n    }),\r\n\r\n  // Update image metadata (Admin only)\r\n  update: (id, imageData) => \r\n    api.put(`/images/home/${id}`, imageData),\r\n\r\n  // Delete image (Admin only)\r\n  delete: (id) => \r\n    api.delete(`/images/home/${id}`),\r\n\r\n  // Download image (Admin only)\r\n  download: (id) => \r\n    api.get(`/images/home/${id}/download`, { responseType: 'blob' })\r\n};\r\n\r\n/**\r\n * ============ DONORS API ============\r\n */\r\nexport const donorsAPI = {\r\n  // Get all donors\r\n  getAll: (params = {}) => \r\n    api.get('/donors', { params }),\r\n\r\n  // Get single donor\r\n  getById: (id) => \r\n    api.get(`/donors/${id}`),\r\n\r\n  // Create donor (Admin only)\r\n  create: (donorData) => \r\n    api.post('/donors', donorData),\r\n\r\n  // Update donor (Admin only)\r\n  update: (id, donorData) => \r\n    api.put(`/donors/${id}`, donorData),\r\n\r\n  // Delete donor (Admin only)\r\n  delete: (id) => \r\n    api.delete(`/donors/${id}`),\r\n\r\n  // Get donation statistics\r\n  getStatistics: () => \r\n    api.get('/donors/statistics'),\r\n\r\n  // Export donors list (Admin only)\r\n  export: () => \r\n    api.get('/donors/export', { responseType: 'blob' })\r\n};\r\n\r\n/**\r\n * ============ AUTHENTICATION API ============\r\n */\r\nexport const authAPI = {\r\n  // Login\r\n  login: (credentials) => \r\n    api.post('/auth/login', credentials),\r\n\r\n  // Logout\r\n  logout: () => \r\n    api.post('/auth/logout'),\r\n\r\n  // Refresh token\r\n  refreshToken: () => \r\n    api.post('/auth/refresh'),\r\n\r\n  // Get current user\r\n  getCurrentUser: () => \r\n    api.get('/auth/me')\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}